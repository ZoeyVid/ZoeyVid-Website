<meta charset=utf-8>
<div class="markdown-heading"><h1 class="heading-element">docker-socket-proxy</h1><a id="user-content-docker-socket-proxy" class="anchor" aria-label="Permalink: docker-socket-proxy" href="#docker-socket-proxy"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h2 class="heading-element">What is this?</h2><a id="user-content-what-is-this" class="anchor" aria-label="Permalink: What is this?" href="#what-is-this"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>This is a fork of <a href="https://github.com/Tecnativa/docker-socket-proxy">https://github.com/Tecnativa/docker-socket-proxy</a> with added https support and updated haproxy, to a few line of this README.md and the haproxy.cfg config still applies the Apache-2.0 license.</p>
<div class="markdown-heading"><h2 class="heading-element">Grant or revoke access to certain API sections</h2><a id="user-content-grant-or-revoke-access-to-certain-api-sections" class="anchor" aria-label="Permalink: Grant or revoke access to certain API sections" href="#grant-or-revoke-access-to-certain-api-sections"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>You grant and revoke access to certain features of the Docker API through environment
variables.</p>
<p>Normally the variables match the URL prefix (i.e. <code>AUTH</code> blocks access to <code>/auth/*</code>
parts of the API, etc.).</p>
<p>Possible values for these variables:</p>
<ul>
<li>
<code>0</code> to <strong>revoke</strong> access.</li>
<li>
<code>1</code> to <strong>grant</strong> access.</li>
</ul>
<div class="markdown-heading"><h3 class="heading-element">Access granted by default</h3><a id="user-content-access-granted-by-default" class="anchor" aria-label="Permalink: Access granted by default" href="#access-granted-by-default"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>These API sections are mostly harmless and almost required for any service that uses the
API, so they are granted by default.</p>
<ul>
<li><code>EVENTS</code></li>
<li><code>PING</code></li>
<li><code>VERSION</code></li>
</ul>
<div class="markdown-heading"><h3 class="heading-element">Access revoked by default</h3><a id="user-content-access-revoked-by-default" class="anchor" aria-label="Permalink: Access revoked by default" href="#access-revoked-by-default"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<div class="markdown-heading"><h4 class="heading-element">Security-critical</h4><a id="user-content-security-critical" class="anchor" aria-label="Permalink: Security-critical" href="#security-critical"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>These API sections are considered security-critical, and thus access is revoked by
default. Maximum caution when enabling these.</p>
<ul>
<li><code>AUTH</code></li>
<li><code>SECRETS</code></li>
<li>
<code>POST</code>: When disabled, only <code>GET</code> and <code>HEAD</code> operations are allowed, meaning any section of the API is read-only.</li>
<li>
<code>NOPOST</code> Allows ALL (with ALL I mean ALL) GET requests to the socket (so no POST, HEAD, etc.) - so full read-only access</li>
</ul>
<div class="markdown-heading"><h4 class="heading-element">Not always needed</h4><a id="user-content-not-always-needed" class="anchor" aria-label="Permalink: Not always needed" href="#not-always-needed"><span aria-hidden="true" class="octicon octicon-link"></span></a></div>
<p>You will possibly need to grant access to some of these API sections, which are not so
extremely critical but can expose some information that your service does not need.</p>
<ul>
<li>
<code>ALLOW_POWER</code> (containers/<code>id</code>/<code>start</code>|<code>stop</code>|<code>kill</code>|<code>restart</code>)</li>
<li>
<code>ALLOW_RESTART</code> (containers/<code>id</code>/<code>restart</code>)</li>
<li>
<code>ALLOW_START</code> (containers/<code>id</code>/<code>start</code>)</li>
<li>
<code>ALLOW_STOP</code> (containers/<code>id</code>/<code>stop</code>)</li>
<li>
<code>ALLOW_Kill</code> (containers/<code>id</code>/<code>kill</code>)</li>
<li><code>BUILD</code></li>
<li><code>COMMIT</code></li>
<li><code>CONFIGS</code></li>
<li><code>CONTAINERS</code></li>
<li><code>DISTRIBUTION</code></li>
<li><code>EXEC</code></li>
<li><code>GRPC</code></li>
<li><code>IMAGES</code></li>
<li><code>INFO</code></li>
<li><code>NETWORKS</code></li>
<li><code>NODES</code></li>
<li><code>PLUGINS</code></li>
<li><code>SERVICES</code></li>
<li><code>SESSION</code></li>
<li><code>SWARM</code></li>
<li><code>SYSTEM</code></li>
<li><code>TASKS</code></li>
<li><code>VOLUMES</code></li>
</ul>

